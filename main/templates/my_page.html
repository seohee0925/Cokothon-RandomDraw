<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>내 추억 저장소</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="../my_page.css">
  </head>

  <body>
  <h1>내 추억 저장소</h1>
  <div id="user-nickname">(별명)
    <script>
      document.getElementById('user-nickname').textContent = username;
    </script>
  </div>
  

  <div class="tabmenu out-tabmenu">
    <ul>
      <li id="tab1" class="btnCon"> 
    
        <input type="radio" checked name="tabmenu" id="tabmenu1">
        <label for="tabmenu1">나의 추억</label>
        <div class="tabCon" >
            <div class="default-message" id="test1">나의 추억을 만들고 일정 시간 후에 확인해보세요.</div>
            <button type="button" id="btn">버튼</button>
            </div>
      </li>
      <li id="tab2" class="btnCon">
        <input type="radio" name="tabmenu" id="tabmenu2">
        <label for="tabmenu2">뽑은 추억</label>
        <div class="tabCon" >
            <div class="default-message" id="test2">다른 사용자의 추억을 뽑아보세요.</div>
            <button type="button" id="btn2">버튼</button>
        </div>
      </li>
    </ul>
  </div>


  <div class="modal fade" id="timeCapsuleModalToggle" aria-hidden="true" aria-labelledby="timeCapsuleModalToggleLabel" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="created-date">(20XX.XX.XX X요일)</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="capsule-photo-container"><img class="capsule-photo" src="." alt="추억 사진" /></div>
          
          <button class="arrow-button" data-bs-target="#timeCapsuleModalToggle2" data-bs-toggle="modal">
            <i class="arrow right"></i></button>
        </div>
      </div>
    </div>
  </div>

  
  <div class="modal fade" id="timeCapsuleModalToggle2" aria-hidden="true" aria-labelledby="timeCapsuleModalToggleLabel2" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="created-date">(20XX.XX.XX X요일)</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <button class="arrow-button" data-bs-target="#timeCapsuleModalToggle" data-bs-toggle="modal">
            <i class="arrow left"></i></button>
          <div class="capsule-content">추억 내용 추억 내용 추억 내용 추억 내용 추억 내용 추억 내용 추억 내용 추억 내용 추억 내용 추억 내용 추억 내용 추억 내용</div>
        </div>
      </div>
    </div>
  </div>


  <script>
    let i = 0;

    function createCapsule() {  // 락 걸린 캡슐 만들기
        const tabCon = document.querySelector('.tabCon');
        const capsuleImages = ["1-locked.png", "2-locked.png"];
        const chosenImage = capsuleImages[i];

        const capsuleContainerButton = document.createElement('button');
        capsuleContainerButton.className = 'transparent-button';
        capsuleContainerButton.setAttribute('data-bs-target', '#timeCapsuleModalToggle');
        capsuleContainerButton.setAttribute('data-bs-toggle','modal');
        capsuleContainerButton.style.display = 'inline-block';
        capsuleContainerButton.style.flexDirection = 'column';
        capsuleContainerButton.style.textAlign = 'center';
        capsuleContainerButton.style.width = '100px';
        capsuleContainerButton.style.marginRight = '15px';
        capsuleContainerButton.style.marginBottom = '15px';
        capsuleContainerButton.style.cursor = 'pointer';

        

        const capsule = document.createElement('img');
        capsule.src = `../../capsule${chosenImage}`;
        capsule.style.width = '100px';
        capsule.style.marginBottom = '10px';
        
        const createdDate = document.createTextNode('20XX.XX.XX');  // 작성 날짜 받아오기
        
        capsuleContainerButton.appendChild(capsule);
        capsuleContainerButton.appendChild(createdDate);
        tabCon.appendChild(capsuleContainerButton);

        i = (i + 1) % 2;
        if (tabCon.querySelector('img')) {
            tabCon.querySelector('.default-message').remove();
        }
    }
    // 사용자가 작성 페이지에서 추억을 작성하면(버튼을 클릭하면) 캡슐 생성
    document.getElementById('btn').addEventListener('click', createCapsule);
    

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>
</html>